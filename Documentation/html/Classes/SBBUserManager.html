<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>SBBUserManager Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">BridgeSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Sage Bionetworks</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/addExternalIdentifier:completion:">- addExternalIdentifier:completion:</option>
		
		<option value="//api/name/addToDataGroups:completion:">- addToDataGroups:completion:</option>
		
		<option value="//api/name/dataSharing:completion:">- dataSharing:completion:</option>
		
		<option value="//api/name/emailDataToUserFrom:to:completion:">- emailDataToUserFrom:to:completion:</option>
		
		<option value="//api/name/getDataGroupsWithCompletion:">- getDataGroupsWithCompletion:</option>
		
		<option value="//api/name/getUserProfileWithCompletion:">- getUserProfileWithCompletion:</option>
		
		<option value="//api/name/removeFromDataGroups:completion:">- removeFromDataGroups:completion:</option>
		
		<option value="//api/name/updateDataGroupsWithGroups:completion:">- updateDataGroupsWithGroups:completion:</option>
		
		<option value="//api/name/updateUserProfileWithProfile:completion:">- updateUserProfileWithProfile:completion:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">SBBUserManager Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td><a href="../Classes/SBBBridgeAPIManager.html">SBBBridgeAPIManager</a> : NSObject</td>
</tr><tr>
	<th>Conforms to</th>
	<td>SBBComponent<br /><a href="../Protocols/SBBUserManagerProtocol.html">SBBUserManagerProtocol</a></td>
</tr><tr>
	<th>Declared in</th>
	<td>SBBUserManager.h<br />SBBUserManager.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This class handles communication with the Bridge users API.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/getUserProfileWithCompletion:" title="getUserProfileWithCompletion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/getUserProfileWithCompletion:">&ndash;&nbsp;getUserProfileWithCompletion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Fetch the UserProfile from the Bridge API.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)getUserProfileWithCompletion:(SBBUserManagerGetProfileCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerGetProfileCompletionBlock.html">SBBUserManagerGetProfileCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/updateUserProfileWithProfile:completion:" title="updateUserProfileWithProfile:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/updateUserProfileWithProfile:completion:">&ndash;&nbsp;updateUserProfileWithProfile:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Update the UserProfile to the Bridge API.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)updateUserProfileWithProfile:(id)<em>profile</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>profile</code></th>
						<td><p>A client object representing the UserProfile as it should be updated.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerCompletionBlock.html">SBBUserManagerCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/addExternalIdentifier:completion:" title="addExternalIdentifier:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/addExternalIdentifier:completion:">&ndash;&nbsp;addExternalIdentifier:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Add an external identifier for a participant.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)addExternalIdentifier:(NSString *)<em>externalID</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>externalID</code></th>
						<td><p>An external identifier to allow this participant to be tracked outside of the Bridge-specific study.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerCompletionBlock.html">SBBUserManagerCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>For research studies designed to enroll participants who are tracked outside of the Bridge-specific study, you can build
your application to submit a unique external identifier to the Bridge Server for that user. This can happen any time after
an email address has been validated. The identifier will be exported with research data, but not with exports that provide
the identities of the people in the study (like the participant roster). The identifier should be unique for the user in
this study, but this is not validated by the Bridge server. The identifier can be updated, but never deleted (if absolutely
necessary, set it to a &ldquo;deleted&rdquo; value like &ldquo;N/A&rdquo;)</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/emailDataToUserFrom:to:completion:" title="emailDataToUserFrom:to:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/emailDataToUserFrom:to:completion:">&ndash;&nbsp;emailDataToUserFrom:to:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Email the user&rsquo;s study data in the specified date range to the email address associated with their account.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)emailDataToUserFrom:(NSDate *)<em>startDate</em> to:(NSDate *)<em>endDate</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>startDate</code></th>
						<td><p>The starting date for the data to be sent.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>endDate</code></th>
						<td><p>The ending date for the data to be sent.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/dataSharing:completion:" title="dataSharing:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/dataSharing:completion:">&ndash;&nbsp;dataSharing:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Change the scope of data sharing for this user.
This should only be done in response to an explicit choice on the part of the user to change the sharing scope.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)dataSharing:(SBBUserDataSharingScope)<em>scope</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>scope</code></th>
						<td><p>The scope of data sharing to set for this user.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerCompletionBlock.html">SBBUserManagerCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getDataGroupsWithCompletion:" title="getDataGroupsWithCompletion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/getDataGroupsWithCompletion:">&ndash;&nbsp;getDataGroupsWithCompletion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Fetch the data groups to which this user belongs from the Bridge API.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)getDataGroupsWithCompletion:(SBBUserManagerGetGroupsCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerGetGroupsCompletionBlock.html">SBBUserManagerGetGroupsCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/updateDataGroupsWithGroups:completion:" title="updateDataGroupsWithGroups:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/updateDataGroupsWithGroups:completion:">&ndash;&nbsp;updateDataGroupsWithGroups:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Update the user&rsquo;s dataGroups to the Bridge API.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSURLSessionTask *)updateDataGroupsWithGroups:(id)<em>dataGroups</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>dataGroups</code></th>
						<td><p>A client object representing the dataGroups as they should be updated.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerCompletionBlock.html">SBBUserManagerCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An NSURLSessionTask object so you can cancel or suspend/resume the request.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<div class="note"><p><strong>Note:</strong> If using caching, be aware that calling this method (or any of the convenience methods which call it) will remove unexpired, unfinished scheduled activities from the cache. The next call to get scheduled activities will replace them with the correct schedule going forward for the new set of data groups.</p></div>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/addToDataGroups:completion:" title="addToDataGroups:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/addToDataGroups:completion:">&ndash;&nbsp;addToDataGroups:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Add the user to the specified data groups (tags).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)addToDataGroups:(NSArray&lt;NSString*&gt; *)<em>dataGroups</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>dataGroups</code></th>
						<td><p>The data groups to which to add the user. This is a convenience method which first calls <a href="../Protocols/SBBUserManagerProtocol.html#//api/name/getDataGroupsWithCompletion:">getDataGroupsWithCompletion:</a>, and in its completion handler, adds the specified groups to the returned dataGroups and posts the modified dataGroups back to the Bridge API via updateDataGroupWithGroups:completion:. If there is an error fetching the user&rsquo;s existing dataGroups, that error will be passed to the completion handler. If an attempt is made to add a user to one or more data groups that haven&rsquo;t first been defined in the study, the Bridge API will respond with 400 (Bad Request) with an error message detailing the problem in the body of the response.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerCompletionBlock.html">SBBUserManagerCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/removeFromDataGroups:completion:" title="removeFromDataGroups:completion:"></a>
	<h3 class="method-title"><code><a href="#//api/name/removeFromDataGroups:completion:">&ndash;&nbsp;removeFromDataGroups:completion:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Remove the user from the specified data groups (tags).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)removeFromDataGroups:(NSArray&lt;NSString*&gt; *)<em>dataGroups</em> completion:(SBBUserManagerCompletionBlock)<em>completion</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>dataGroups</code></th>
						<td><p>The data groups from which to remove the user. This is a convenience method which first calls <a href="../Protocols/SBBUserManagerProtocol.html#//api/name/getDataGroupsWithCompletion:">getDataGroupsWithCompletion:</a>, and in its completion handler, removes the specified groups from the returned dataGroups and posts the modified dataGroups back to the Bridge API via updateDataGroupWithGroups:completion:. If there is an error fetching the user&rsquo;s existing dataGroups, that error will be passed to the completion handler. If the fetch succeeds but the user is not a member of one or more of these data groups, whether because they haven&rsquo;t been added or because they don&rsquo;t exist in the study, this method will complete without updating the user&rsquo;s dataGroups and without an error.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completion</code></th>
						<td><p>An <a href="../Blocks/SBBUserManagerCompletionBlock.html">SBBUserManagerCompletionBlock</a> to be called upon completion.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SBBUserManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 Sage Bionetworks. All rights reserved. Updated: 2016-12-29</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>